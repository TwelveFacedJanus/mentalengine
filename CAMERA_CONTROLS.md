# Управление камерой в MentalEngine

Система камеры в MentalEngine реализует стандартные для CAD-приложений элементы управления.

## Управление мышью

### Вращение камеры (Orbit)
- **Левая кнопка мыши + перетаскивание** - вращение камеры вокруг целевой точки
- Камера будет вращаться вокруг точки, на которую она смотрит

### Панорамирование (Pan)
- **Средняя кнопка мыши + перетаскивание** - панорамирование камеры
- Камера и целевая точка будут перемещаться вместе

### Масштабирование (Zoom)
- **Колесо мыши** - приближение/отдаление
- **Правая кнопка мыши + перетаскивание** - альтернативное масштабирование

## Управление клавиатурой

### Основные команды
- **R** - сброс камеры в исходное положение
- **P** - переключение между перспективной и ортогональной проекциями

## Типы проекций

### Перспективная проекция
- Реалистичное отображение с перспективой
- Поле зрения: 45 градусов
- Подходит для 3D-моделирования

### Ортогональная проекция
- Параллельная проекция без искажений
- Подходит для технических чертежей
- Размер области просмотра настраивается

## Настройки камеры

### Параметры орбиты
- Минимальное расстояние: 0.1 единицы
- Максимальное расстояние: 1000 единиц
- Ограничение вертикального угла: ±89 градусов

### Скорости
- Скорость вращения: настраивается
- Скорость панорамирования: настраивается
- Скорость масштабирования: настраивается

## Программный интерфейс

### Основные методы камеры
```cpp
// Установка позиции камеры
camera->SetPosition(Vector3(x, y, z));

// Установка целевой точки
camera->SetTarget(Vector3(x, y, z));

// Переключение проекции
camera->SetProjection(CameraProjection::Perspective);
camera->SetProjection(CameraProjection::Orthographic);

// Сброс камеры
camera->Reset();

// Подгонка к границам объекта
camera->FitToBounds(minBounds, maxBounds);
```

### Получение матриц
```cpp
// Матрица вида
Matrix4 viewMatrix = camera->GetViewMatrix();

// Матрица проекции
Matrix4 projectionMatrix = camera->GetProjectionMatrix();
```

## Интеграция с рендерером

Камера автоматически интегрирована с системой рендеринга:
- Матрицы передаются в шейдеры как uniform-переменные
- Обновление камеры происходит каждый кадр
- Поддержка как для 3D-объектов, так и для 2D-сетки

## Особенности реализации

- Плавное управление без рывков
- Ограничения для предотвращения выхода за разумные пределы
- Автоматическое обновление соотношения сторон
- Поддержка как левосторонней, так и правосторонней системы координат
